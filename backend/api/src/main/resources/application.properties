# Nome da Aplicação no Spring
spring.application.name=sparta-api

# --- CONEXÃO COM O BANCO (DOCKER) ---
spring.datasource.url=jdbc:postgresql://localhost:5432/sparta
spring.datasource.username=admin
spring.datasource.password=admin
spring.datasource.driver-class-name=org.postgresql.Driver

# --- FLYWAY (MIGRAÇÕES DE BANCO) ---
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true

# --- JPA / HIBERNATE ---
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# --- SERVIDOR ---
server.port=8080

# --- SEGURANÇA ---
api.security.token.secret=${JWT_SECRET:sparta_app_segredo_super_secreto_para_assinatura_jwt_123456}

# --- INTEGRAÇÃO N8N ---
sparta.n8n.webhook-url=http://192.168.2.5:5678/webhook/training-generator
# Chat do assistente: use localhost se o n8n rodar na mesma máquina; ou N8N_CHAT_WEBHOOK_URL / 192.168.x.x em rede
sparta.n8n.chat-webhook-url=${N8N_CHAT_WEBHOOK_URL:http://localhost:5678/webhook/assistant-chat}
sparta.n8n.api-key=132522!Ip#2026!

# --- CONFIGURAÇÕES ADICIONAIS ---
spring.mvc.async.request-timeout=60000
logging.level.com.spartaApp.api.modules.training=INFO
# Debug do filtro JWT e da decisão de autorização (remover em produção)
logging.level.com.spartaApp.api.config=INFO
logging.level.org.springframework.security.web.access.intercept.AuthorizationFilter=DEBUG
